--
-- first, define the datatype.  Turn off echoing so that expected file
-- does not depend on contents of citext.sql.
--
SET client_min_messages = warning;
SET
\set ECHO none
SET
CREATE TYPE
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE TYPE
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE OPERATOR
CREATE OPERATOR
CREATE OPERATOR
CREATE OPERATOR
CREATE OPERATOR
CREATE OPERATOR
CREATE CAST
CREATE CAST
CREATE OPERATOR CLASS
CREATE OPERATOR CLASS
COMMENT
CREATE TYPE
CREATE FUNCTION
CREATE FUNCTION
CREATE TYPE
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE TABLE
CREATE FUNCTION
CREATE OPERATOR
CREATE FUNCTION
CREATE OPERATOR
CREATE FUNCTION
CREATE CAST
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE FUNCTION
CREATE OPERATOR
CREATE OPERATOR
CREATE OPERATOR
CREATE OPERATOR
CREATE OPERATOR
CREATE OPERATOR
CREATE FUNCTION
CREATE OPERATOR CLASS
CREATE OPERATOR CLASS
CREATE FUNCTION
CREATE OPERATOR
CREATE FUNCTION
CREATE OPERATOR
CREATE FUNCTION
CREATE FUNCTION
CREATE OPERATOR
CREATE OPERATOR
CREATE FUNCTION
CREATE FUNCTION
CREATE OPERATOR
CREATE OPERATOR
CREATE FUNCTION
CREATE OPERATOR
CREATE FUNCTION
CREATE OPERATOR
RESET
create table wp_currencies (
       code char(3),
       num int,
       minor int,
       description text
);
CREATE TABLE
\copy wp_currencies from 'data/iso4217.data'
INSERT INTO currency_rate
       (is_exchange, code, description, symbol, minor, rate)
VALUES
	('t', 'BTC', 'Bitcoin', '฿', 2, 1);
INSERT 0 1
INSERT INTO currency_rate
       (code, description, minor, rate)
SELECT
	code, description, minor, (random()+0.5)^3
from
	wp_currencies;
INSERT 0 153
-- some rates for testing
update currency_rate set rate = 3 where code = 'NZD';
UPDATE 1
update currency_rate set rate = 4 where code = 'USD';
UPDATE 1
update currency_rate set rate = 6, symbol = '€' where code = 'EUR';
UPDATE 1
update currency_rate set rate = 7, symbol = '£' where code = 'GBP';
UPDATE 1
